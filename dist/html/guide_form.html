<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../resources/css/style.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <title>Guide Form</title>
</head>

<body>
    <header class="g_detail_header">
        <h1>UI / UX guide - Form</h1>
    </header>
    <section class="g_detail_section">
        <p class="g_detail_title">01 Checkbox</p>
        <ul class="checkwrap">
            <li>
                <input id="checkbox1" name="checkbox" type="checkbox" checked="checked">
                <label for="checkbox1">checked</label>
            </li>
            <li>
                <input id="uncheck" name="checkbox" type="checkbox" disabled>
                <label for="uncheck">unchecked</label>
            </li>
            <li>
                <input id="errorcheck" name="checkbox" type="checkbox">
                <label for="errorcheck">errored checked</label>
            </li>
            <li>
                <input id="disabledcheck" name="checkbox" type="checkbox" disabled>
                <label for="disabledcheck">disabled Unchecked</label>
            </li>
        </ul>
        <div class="checkwrap">
            <p class="g_detail_sub_title">All Select Checkbox</p>
            <div class="agree">
                <div class="all_agree agreechk">
                    <input type="checkbox" id="chk_all" name="allagree" />
                    <label for="chk_all"><span>전체약관동의</span></label>
                </div>
            </div>
            <ul>
                <li class="agreechk">
                    <input type="checkbox" id="a2" name="chk" />
                    <label for="a2"><span>이용약관동의 (필수)</span></label>
                </li>
                <li class="agreechk">
                    <input type="checkbox" id="a3" name="chk" />
                    <label for="a3"><span>개인정보수집이용 동의 (필수)</span< /label>
                </li>
                <li class="agreechk">
                    <input type="checkbox" id="a4" name="chk" />
                    <label for="a4"><span>만 14세 이상 확인 (필수)</span></label>
                </li>
            </ul>
        </div>
        <p class="g_detail_title">02 Radio</p>
        <ul class="checkwrap">
            <li>
                <input type="radio" id="rchecked" name="radio-group" checked>
                <label for="rchecked">checked</label>
            </li>
            <li>
                <input type="radio" id="Unchecked" name="radio-group">
                <label for="Unchecked">unchecked</label>
            </li>
            <li>
                <input type="radio" id="Disabledchecked" name="radio-group" disabled>
                <label for="Disabledchecked">disabled Unchecked</label>
            </li>
            <li>
                <input type="radio" id="Erroredchecked" name="radio-group">
                <label for="Erroredchecked">errored checked</label>
            </li>
        </ul>
        <p class="g_detail_title">03 Select</p>

        <p class="g_detail_sub_title checkwrap">Custom Selectbox</p>

        <div class="sa-select-wrap">
            <select class="custom-select">
                <option value="select1">선택1</option>
                <option value="select2">선택2</option>
                <option value="select3">선택3</option>
                <option value="select4">선택4</option>
                <option value="select5">선택5</option>
            </select>
        </div>

        <div class="sa-select-wrap">
            <select class="custom-select">
                <option value="select1">제목</option>
                <option value="select2">내용</option>
                <option value="select3">글쓴이</option>
            </select>
        </div>

        <p class="g_detail_title">04 Input</p>

        <!--포커스시 내용 초기화-->
        <p class="g_detail_sub_title checkwrap">Input Focus</p>
        <div class="id-box input-delete-area input-css">
            <input type="text" name="email_adr" placeholder="아이디" value="" class="keyevent" title="아이디">
            <button type="button" class="btn-input-delete">
                <i class="fas fa-times-circle"></i>
            </button>
        </div>
        <!--포커스시 활성화 input-->
        <p class="g_detail_sub_title checkwrap">Input Focus2</p>
        <div class="id-box input-focus-area input-css">
            <input type="text" id="username" autocomplete="off" required value="박상아">
            <label for="username">Username</label>
        </div>
        <p class="g_detail_sub_title checkwrap">Input Focus3</p>
        <div class="id-box input-focus-area input-css">
            <input type="password" id="password" autocomplete="off" required>
            <label for="password">Password</label>
        </div>
        <!--password input-->
        <p class="g_detail_sub_title checkwrap">Input Password</p>
        <div class="pw-box input-css">
            <input type="password" name="" class="passwordinput" placeholder="비밀번호" class="keyevent" title="비밀번호">
            <button type="button" class="text-view login-password-on">
                <i class="fas fa-eye"></i>
            </button>
            <button type="button" class="text-view login-password-off">
                <i class="fas fa-eye-slash"></i>
            </button>
        </div>
        <!--file input upload-->
        <p class="g_detail_sub_title checkwrap">Input File Upload</p>
        <div class="filebox input-css">
            <input class="upload-name" value="파일선택" disabled="disabled">
            <label for="ex-filename">파일찾기</label>
            <input type="file" id="ex-filename" class="upload-hidden">
        </div>
        <!--email input-->
        <p class="g_detail_sub_title checkwrap">Email Input</p>
        <div class="email_input_wrap input-css">
            <input name="email1" type="text" class="email_input">
            <span class="email_icon">@</span>
            <input name="email2" type="text" class="email_input">
            <div class="sa-select-wrap email-select">
                <select class="custom-select">
                    <option value="" selected>선택하세요</option>
                    <option value="naver.com">naver.com</option>
                    <option value="gmail.com">gmail.com</option>
                    <option value="hanmail.com">hanmail.com</option>
                    <option value="1">직접입력</option>
                </select>
            </div>
        </div>
    </section>
</body>
<script type="text/javascript" src="../resources/js/jquery-1.8.3.js"></script>
<script>
    $(function() {
        //전체선택
        $("#chk_all").click(function() {
            if ($("#chk_all").is(":checked")) $("input[name=chk]").prop("checked", true);
            else $("input[name=chk]").prop("checked", false);
        });

        $("input[name=chk]").click(function() {
            var total = $("input[name=chk]").length;
            var checked = $("input[name=chk]:checked").length;

            if (total != checked) $("#chk_all").prop("checked", false);
            else $("#chk_all").prop("checked", true);
        });
        //customselect
        $("select[class=custom-select]").each(function() {
            const select = $(this)
            select.css("display", "none");

            // 현재 선택한 selected 값, 없으면 자동으로 1번
            const selectedValue = $("option:selected", this).text();

            // 커스텀셀렉트의 박스
            const selectWrapper = $("<div>", {
                "class": "select select-title"
            });

            // 커스텀셀렉트의 현재 선택한값
            const selectedOption = $("<i>", {
                "class": "select-default",
                "text": selectedValue
            })

            // 커스텀셀렉트의 업다운 화살표
            const selectDownArrow = $("<i>", {
                "class": "fas fa-chevron-down"
            });

            // 커스텀셀렉트의 UL
            let selectListUl = $("<ul>", {
                "class": "select-ul"
            });
            $("option", this).each(function() {
                const selectListLi = $("<li>", {
                    "data-value": $(this).val(),
                    "text": $(this).text()
                });
                selectListUl.append(selectListLi);
            });

            // UL, LI로 만들어진 SELECT를 입력
            selectWrapper.append(selectedOption).append(selectDownArrow).append(selectListUl);
            select.parent().append(selectWrapper)

            // 생성된 custom-select의 클릭 이벤트
            $(this).parent().find("div").on("click", function() {
                if (selectDownArrow.hasClass("arrowup")) {
                    selectDownArrow.removeClass("arrowup");
                } else {
                    selectDownArrow.addClass("arrowup");
                }

                $('.select-title.on').not(this).each(function() {
                    $(this).removeClass('on').find('ul').hide();
                    $(this).find(".fa-chevron-down").removeClass("arrowup");
                });
                $(this).toggleClass("on").find("ul").toggle();

                //$(this).find("ul").toggle();
            });

            // 생성된 custom-select 목록의 클릭 이벤트
            $(this).parent().find("div > ul > li").on("click", function() {
                var text = $(this).text();
                $(this).parent().parent().find(".select-default").text(text);
                select.val($(this).data("value")).trigger("change");
                if ($("div > ul > li.active").length > 0) {
                    $("div > ul > li.active").removeClass("active");
                }
                $(this).addClass("active")
            })

            $("select").on("change", function() {
                //console.log($(this).val());

            });

            // 셀렉트 박스 이외 선택시 보이지 않게 하기 
            $("body").on("click", function(e) {
                if ($(".sa-select-wrap").has(e.target).length == 0) {
                    if (selectListUl.css("display") == "block") {
                        selectListUl.hide();
                        //selectListUl.css("display", "none");
                        selectDownArrow.removeClass("arrowup");
                    }
                }
            });
        });

        //input 초기화
        $('.btn-input-delete').on('click', function() {
            $(this).siblings('input').removeClass('focus');
            $(this).prev().val('');
            $(this).prev().focus();
            $(this).removeClass('focus');
            return false;
        });

        // 비밀번호 시각화
        $('.login-password-on').on('click', function() {
            $('.passwordinput').prop('type', 'text');
            $(this).css('display', 'none');
            console.log($(this))
            $('.login-password-off').css('display', 'block');
        });

        $('.login-password-off').on('click', function() {
            $('.pw-box input').prop('type', 'password');
            $(this).css('display', 'none');
            $('.login-password-on').css('display', 'block');
        });

        $(".email-select > select").on("change", function() {
            //console.log($(this).val());
            $(".email-select > select > option:selected").each(function() {
                if ($(this).val() == '1') {
                    //직접입력일 경우 
                    $("input[name=email2]").val(''); //값 초기화 
                    $("input[name=email2]").attr("disabled", false); //활성화 
                } else {
                    //직접입력이 아닐경우 
                    $("input[name=email2]").val($(this).text()); //선택값 입력 
                    $("input[name=email2]").attr("disabled", true); //비활성화 
                }
            });
        });

        //파일업로드
        var fileTarget =
            $('.filebox .upload-hidden');
        fileTarget.on('change', function() { // 값이 변경되면
            if (window.FileReader) {
                // modern browser 
                var filename = $(this)[0].files[0].name;
            } else {
                // old IE 
                var filename = $(this).val().split('/').pop().split('\\').pop(); // 파일명만 추출 
            }
            // 추출한 파일명 삽입 $
            $(this).siblings('.upload-name').val(filename);
        });
    });
</script>

</html>